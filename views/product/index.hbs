<div class="main-content">
   <div class="table-container">

      <!-- Tiêu đề -->
      <div class="table-header d-flex justify-content-between align-items-center">
         <div class="mb-3">
            <a href="/" class="btn btn-secondary">
               <i class="material-icons">arrow_back</i>
               <span>Back to Dashboard</span>
            </a>
         </div>
         <h2>Manage Product</h2>
         <a href="/product/add" class="btn btn-success">
            <i class="material-icons">add</i>
            <span>Add New Product</span>
         </a>
      </div>

      <!-- Thanh tìm kiếm -->
      <div class="search-bar">
         <form action="/product" method="GET">
            <div class="row gx-3 gy-2 align-items-center">
               <div class="col-md-4">
                  <input 
                     type="text" 
                     name="productname" 
                     class="form-control" 
                     placeholder="Search by Product Name" 
                     value="{{search.productname}}">
               </div>
               <div class="col-md-3">
                  <select name="category" class="form-select">
                     <option value="">Select Category</option>
                     {{#each categories}}
                     <option value="{{_id}}" {{#ifEquals _id ../search.category}}selected{{/ifEquals}}>{{categoryname}}</option>
                     {{/each}}
                  </select>
               </div>
               <div class="col-md-3">
                  <select name="brand" class="form-select">
                     <option value="">Select Brand</option>
                     {{#each brands}}
                     <option value="{{_id}}" {{#ifEquals _id ../search.brand}}selected{{/ifEquals}}>{{brandname}}</option>
                     {{/each}}
                  </select>
               </div>
               <div class="col-md-2 d-flex justify-content-center">
                  <button type="submit" class="btn btn-primary">
                     <i class="material-icons">search</i> Search
                  </button>
               </div>
            </div>
         </form>
      </div>

      <!-- Bảng dữ liệu -->
      <table class="table table-striped table-hover">
         <thead>
            <tr>
               <th>
                  <div class="custom-checkbox">
                     <input type="checkbox" id="selectAll">
                     <label for="selectAll"></label>
                  </div>
               </th>
               <th>Name</th>
               <th>Description</th>
               <th>Price</th>
               <th>Brand</th>
               <th>Category</th>
               <th>Image</th>
               <th>Actions</th>
            </tr>
         </thead>
         <tbody>
            {{#each products}}
            <tr>
               <td>
                  <div class="custom-checkbox">
                     <input type="checkbox" id="checkbox{{@index}}" name="option[]" value="1">
                     <label for="checkbox{{@index}}"></label>
                  </div>
               </td>
               <td>{{productname}}</td>
               <td>{{description}}</td>
               <td>{{price}}</td>
               <td>{{brand.brandname}}</td>
               <td>{{category.categoryname}}</td>
               <td>
                  <img src="{{image}}" alt="Product Image" width="80" height="100">
               </td>
               <td class="action-icons">
                  <a href="/product/edit/{{_id}}" class="edit">
                     <i class="material-icons" title="Edit">edit</i>
                  </a>
                  <a href="/product/delete/{{_id}}" class="delete">
                     <i class="material-icons" title="Delete">delete</i>
                  </a>
               </td>
            </tr>
            {{/each}}
         </tbody>
      </table>
   </div>
</div>
